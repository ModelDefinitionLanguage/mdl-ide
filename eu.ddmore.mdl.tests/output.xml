<?xml version="1.0" encoding="UTF-8"?>
<PharmML 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns="http://www.pharmml.org/pharmml/0.6/PharmML"
	xsi:schemaLocation="http://www.pharmml.org/pharmml/0.6/PharmML http://www.pharmml.org/pharmml/0.6/PharmML"
	xmlns:math="http://www.pharmml.org/pharmml/0.6/Maths"
	xmlns:ct="http://www.pharmml.org/pharmml/0.6/CommonTypes"
	xmlns:ds="http://www.pharmml.org/pharmml/0.6/Dataset"
	xmlns:mdef="http://www.pharmml.org/pharmml/0.6/ModelDefinition"
	xmlns:mstep="http://www.pharmml.org/pharmml/0.6/ModellingSteps"
	xmlns:design="http://www.pharmml.org/pharmml/0.6/TrialDesign"
	writtenVersion="0.6">
	<ct:Name>"generated by MDL2PharmML v.6.0"</ct:Name>
	<IndependentVariable symbId="T"/>
	<ct:FunctionDefinition xmlns="http://www.pharmml.org/pharmml/0.6/CommonTypes"
		symbolType="real"
		symbId="combinedError1">
	    <ct:Description>Combined additive ad proportional for 1 epsilon</ct:Description>
	    <ct:FunctionArgument symbolType="real" symbId="additive"/>
	    <ct:FunctionArgument symbolType="real" symbId="proportional"/>
	    <ct:FunctionArgument symbolType="real" symbId="f"/>
	    <ct:Definition>
	        <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
	            <Binop op="plus">
	                <ct:SymbRef symbIdRef="additive"/>
	                <Binop op="times">
	                    <ct:SymbRef symbIdRef="proportional"/>
	                    <ct:SymbRef symbIdRef="f"/>
	                </Binop>
	            </Binop>
	        </Equation>
	    </ct:Definition>
	</ct:FunctionDefinition>
	<ModelDefinition xmlns="http://www.pharmml.org/pharmml/0.6/ModelDefinition">
		<VariabilityModel blkId="vm_err" type="residualError">
			<Level referenceLevel="false" symbId="DV"/>
		</VariabilityModel>
		<VariabilityModel blkId="vm_mdl" type="parameterVariability">
			<Level referenceLevel="true" symbId="ID"/>
		</VariabilityModel>
		<CovariateModel blkId="cm">
			<Covariate symbId="logtWT">
				<Continuous/>
			</Covariate>
		</CovariateModel>
		<SimpleParameter symbId = "POP_CL">
		</SimpleParameter>
		<SimpleParameter symbId = "POP_V">
		</SimpleParameter>
		<SimpleParameter symbId = "POP_KA">
		</SimpleParameter>
		<SimpleParameter symbId = "POP_TLAG">
		</SimpleParameter>
		<SimpleParameter symbId = "BETA_CL_WT">
		</SimpleParameter>
		<SimpleParameter symbId = "BETA_V_WT">
		</SimpleParameter>
		<SimpleParameter symbId = "RUV_PROP">
		</SimpleParameter>
		<SimpleParameter symbId = "RUV_ADD">
		</SimpleParameter>
		<SimpleParameter symbId = "PPV_CL">
		</SimpleParameter>
		<SimpleParameter symbId = "PPV_V">
		</SimpleParameter>
		<SimpleParameter symbId = "PPV_KA">
		</SimpleParameter>
		<SimpleParameter symbId = "PPV_TLAG">
		</SimpleParameter>
		<RandomVariable symbId="ETA_CL">
			<ct:VariabilityReference>
				<ct:SymbRef blkIdRef="vm_mdl" symbIdRef="ID"/>
			</ct:VariabilityReference>
			<NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
				<mean>
					<rVal>0</rVal>
				</mean>
				<stddev>
					<var varId="PPV_CL"/>
				</stddev>
			</NormalDistribution>
		</RandomVariable>
		<RandomVariable symbId="ETA_V">
			<ct:VariabilityReference>
				<ct:SymbRef blkIdRef="vm_mdl" symbIdRef="ID"/>
			</ct:VariabilityReference>
			<NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
				<mean>
					<rVal>0</rVal>
				</mean>
				<stddev>
					<var varId="PPV_V"/>
				</stddev>
			</NormalDistribution>
		</RandomVariable>
		<RandomVariable symbId="ETA_KA">
			<ct:VariabilityReference>
				<ct:SymbRef blkIdRef="vm_mdl" symbIdRef="ID"/>
			</ct:VariabilityReference>
			<NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
				<mean>
					<rVal>0</rVal>
				</mean>
				<stddev>
					<var varId="PPV_KA"/>
				</stddev>
			</NormalDistribution>
		</RandomVariable>
		<RandomVariable symbId="ETA_TLAG">
			<ct:VariabilityReference>
				<ct:SymbRef blkIdRef="vm_mdl" symbIdRef="ID"/>
			</ct:VariabilityReference>
			<NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
				<mean>
					<rVal>0</rVal>
				</mean>
				<stddev>
					<var varId="PPV_TLAG"/>
				</stddev>
			</NormalDistribution>
		</RandomVariable>
		<IndividualParameter symbId="CL">
			<GaussianModel>
				<Transformation>log</Transformation>
				<LinearCovariate>
					<PopulationParameter>
						<ct:Assign>
							<ct:Equation>
								<ct:SymbRef blkIdRef="pm" symbIdRef="POP_CL"/>
							</ct:Equation>
						</ct:Assign>
					</PopulationParameter>
					<Covariate>
						<ct:SymbRef blkIdRef="cm" symbIdRef="logtWT"/>
						<FixedEffect>
							<ct:SymbRef blkIdRef="pm" symbIdRef="BETA_CL_WT"/>
						</FixedEffect>
					</Covariate>
				</LinearCovariate>
				<RandomEffects>
					<ct:SymbRef blkIdRef="pm" symbIdRef="ETA_CL"/>
				</RandomEffects>
			</GaussianModel>
		</IndividualParameter>
		<IndividualParameter symbId="V">
			<GaussianModel>
				<Transformation>log</Transformation>
				<LinearCovariate>
					<PopulationParameter>
						<ct:Assign>
							<ct:Equation>
								<ct:SymbRef blkIdRef="pm" symbIdRef="POP_V"/>
							</ct:Equation>
						</ct:Assign>
					</PopulationParameter>
					<Covariate>
						<ct:SymbRef blkIdRef="cm" symbIdRef="logtWT"/>
						<FixedEffect>
							<ct:SymbRef blkIdRef="pm" symbIdRef="BETA_V_WT"/>
						</FixedEffect>
					</Covariate>
				</LinearCovariate>
				<RandomEffects>
					<ct:SymbRef blkIdRef="pm" symbIdRef="ETA_V"/>
				</RandomEffects>
			</GaussianModel>
		</IndividualParameter>
		<IndividualParameter symbId="KA">
			<GaussianModel>
				<Transformation>log</Transformation>
				<LinearCovariate>
					<PopulationParameter>
						<ct:Assign>
							<ct:Equation>
								<ct:SymbRef blkIdRef="pm" symbIdRef="POP_KA"/>
							</ct:Equation>
						</ct:Assign>
					</PopulationParameter>
				</LinearCovariate>
				<RandomEffects>
					<ct:SymbRef blkIdRef="pm" symbIdRef="ETA_KA"/>
				</RandomEffects>
			</GaussianModel>
		</IndividualParameter>
		<IndividualParameter symbId="TLAG">
			<GaussianModel>
				<Transformation>log</Transformation>
				<LinearCovariate>
					<PopulationParameter>
						<ct:Assign>
							<ct:Equation>
								<ct:SymbRef blkIdRef="pm" symbIdRef="POP_TLAG"/>
							</ct:Equation>
						</ct:Assign>
					</PopulationParameter>
				</LinearCovariate>
				<RandomEffects>
					<ct:SymbRef blkIdRef="pm" symbIdRef="ETA_TLAG"/>
				</RandomEffects>
			</GaussianModel>
		</IndividualParameter>
		<RandomVariable symbId="EPS_Y">
			<ct:VariabilityReference>
				<ct:SymbRef blkIdRef="vm_err" symbIdRef="DV"/>
			</ct:VariabilityReference>
			<NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
				<mean>
					<rVal>0</rVal>
				</mean>
				<variance>
					<rVal>1</rVal>
				</variance>
			</NormalDistribution>
		</RandomVariable>
		<StructuralModel blkId="sm">
			<ct:Variable symbId="RATEIN" symbolType="real">
				<math:Piecewise>
					<math:Piece>
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="sm" symbIdRef="GUT"/>
							<ct:SymbRef blkIdRef="pm" symbIdRef="KA"/>
						</math:Binop>
						<math:Condition>
							<math:LogicBinop op="ge">
								<ct:SymbRef  symbIdRef="T"/>
								<ct:SymbRef blkIdRef="pm" symbIdRef="TLAG"/>
							</math:LogicBinop>
						</math:Condition>
					</math:Piece>
					<math:Piece>
						<ct:Int>0</ct:Int>
						<math:Condition>
							<math:Otherwise/>
						</math:Condition>
					</math:Piece>
				</math:Piecewise>
			</ct:Variable>
			<ct:DerivativeVariable symbId="GUT" symbolType="real">
				<ct:Assign>
					<ct:Equation>
						<math:Uniop op="minus">
							<ct:SymbRef blkIdRef="sm" symbIdRef="RATEIN"/>
						</math:Uniop>
					</ct:Equation>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialValue>
					<ct:Assign>
						<ct:Equation>
							<ct:Int>0</ct:Int>
						</ct:Equation>
					</ct:Assign>
				</ct:InitialValue>
				<ct:InitialTime>
					<ct:Assign>
						<ct:Equation>
							<ct:Int>0</ct:Int>
						</ct:Equation>
					</ct:Assign>
				</ct:InitialTime>
			</ct:DerivativeVariable>
			<ct:DerivativeVariable symbId="CENTRAL" symbolType="real">
				<ct:Assign>
					<ct:Equation>
						<math:Binop op="minus">
							<ct:SymbRef blkIdRef="sm" symbIdRef="RATEIN"/>
							<math:Binop op="divide">
								<math:Binop op="times">
									<ct:SymbRef blkIdRef="pm" symbIdRef="CL"/>
									<ct:SymbRef blkIdRef="sm" symbIdRef="CENTRAL"/>
								</math:Binop>
								<ct:SymbRef blkIdRef="pm" symbIdRef="V"/>
							</math:Binop>
						</math:Binop>
					</ct:Equation>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialValue>
					<ct:Assign>
						<ct:Equation>
							<ct:Int>0</ct:Int>
						</ct:Equation>
					</ct:Assign>
				</ct:InitialValue>
				<ct:InitialTime>
					<ct:Assign>
						<ct:Equation>
							<ct:Int>0</ct:Int>
						</ct:Equation>
					</ct:Assign>
				</ct:InitialTime>
			</ct:DerivativeVariable>
			<ct:Variable symbId="CC" symbolType="real">
				<math:Binop op="divide">
					<ct:SymbRef blkIdRef="sm" symbIdRef="CENTRAL"/>
					<ct:SymbRef blkIdRef="pm" symbIdRef="V"/>
				</math:Binop>
			</ct:Variable>
		</StructuralModel>
		<ObservationModel blkId="om">
			<ContinuousData>
				<Standard symbId="Y">
					<Output>
						<ct:SymbRef blkIdRef="sm" symbIdRef="CC"/>
					</Output>
					<ErrorModel>
						<ct:Assign>
							<Equation  xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
								<FunctionCall>
									<ct:SymbRef symbIdRef="combinedError1"/>
									<FunctionArgument symbId="additive">
										<Equation>
											<ct:SymbRef blkIdRef="pm" symbIdRef="RUV_ADD"/>
										</Equation>
									</FunctionArgument>
									<FunctionArgument symbId="proportional">
										<Equation>
											<ct:SymbRef blkIdRef="pm" symbIdRef="RUV_PROP"/>
										</Equation>
									</FunctionArgument>
									<FunctionArgument symbId="f">
										<Equation>
											<ct:SymbRef blkIdRef="sm" symbIdRef="CC"/>
										</Equation>
									</FunctionArgument>
								</FunctionCall>
							</Equation>
						</ct:Assign>
					</ErrorModel>
					<ResidualError>
						<ct:SymbRef blkIdRef="pm" symbIdRef="EPS_Y"/>
					</ResidualError>
				</Standard>
			</ContinuousData>
		</ObservationModel>
	</ModelDefinition>
	<ModellingSteps xmlns="http://www.pharmml.org/pharmml/0.6/ModellingSteps">
		<ExternalDataSet toolName="NONMEM" oid="nm_ds">
			<ColumnMapping>
				<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.6/Dataset" columnIdRef="ID"/>
				<ct:SymbRef blkIdRef="vm_mdl" symbIdRef="ID"/>
			</ColumnMapping>
			<ColumnMapping>
				<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.6/Dataset" columnIdRef="T"/>
				<ct:SymbRef  symbIdRef="T"/>
			</ColumnMapping>
			<ColumnMapping>
				<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.6/Dataset" columnIdRef="AMT"/>
				<Piecewise xmlns="http://www.pharmml.org/pharmml/0.6/Dataset">
					<math:Piece>
						<ct:SymbRef blkIdRef="sm" symbIdRef="GUT"/>
						<math:Condition>
							<math:LogicBinop op="gt">
								<ColumnRef columnIdRef="AMT"/>
								<ct:Int>0</ct:Int>
							</math:LogicBinop>
						</math:Condition>
					</math:Piece>
				</Piecewise>
			</ColumnMapping>
			<ColumnMapping>
			    <ColumnRef xmlns="http://www.pharmml.org/pharmml/0.6/Dataset" columnIdRef="DV"/>
				<ct:SymbRef blkIdRef="ERROR!" symbIdRef="Y"/>
			</ColumnMapping>
			<ColumnMapping>
				<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.6/Dataset" columnIdRef="logtWT"/>
				<ct:SymbRef blkIdRef="cm" symbIdRef="logtWT"/>
			</ColumnMapping>
			<DataSet xmlns="http://www.pharmml.org/pharmml/0.6/Dataset">
				<Definition>
					<Column columnId="ID" columnType="id" valueType="int" columnNum="1"/>
					<Column columnId="T" columnType="idv" valueType="real" columnNum="2"/>
					<Column columnId="WT" columnType="undefined" valueType="real" columnNum="3"/>
					<Column columnId="AMT" columnType="dose" valueType="real" columnNum="4"/>
					<Column columnId="DVID" columnType="dvid" valueType="int" columnNum="5"/>
					<Column columnId="DV" columnType="dv" valueType="real" columnNum="6"/>
					<Column columnId="MDV" columnType="mdv" valueType="int" columnNum="7"/>
					<Column columnId="logtWT" columnType="covariate" valueType="real" columnNum="8"/>
				</Definition>
				<ExternalFile oid="id">
					<path>"warfarin_conc.csv"</path>
					<format>CSV</format>
					<delimiter>COMMA</delimiter>
				</ExternalFile>
			</DataSet>
		</ExternalDataSet>
		<EstimationStep oid="estimStep_1">
			<ParametersToEstimate>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_CL"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.1</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_V"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>8</ct:Int>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_KA"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.362</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_TLAG"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>1</ct:Int>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="BETA_CL_WT"/>
					<InitialEstimate fixed="true">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.75</ct:Real>
						</Equation>
					</InitialEstimate>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="BETA_V_WT"/>
					<InitialEstimate fixed="true">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>1</ct:Int>
						</Equation>
					</InitialEstimate>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="RUV_PROP"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.1</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>0</ct:Int>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="RUV_ADD"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.1</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>0</ct:Int>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_CL"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.1</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_V"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>8</ct:Int>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_KA"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.362</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="POP_TLAG"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>1</ct:Int>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.001</ct:Real>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="BETA_CL_WT"/>
					<InitialEstimate fixed="true">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.75</ct:Real>
						</Equation>
					</InitialEstimate>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="BETA_V_WT"/>
					<InitialEstimate fixed="true">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>1</ct:Int>
						</Equation>
					</InitialEstimate>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="RUV_PROP"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.1</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>0</ct:Int>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef symbId="RUV_ADD"/>
					<InitialEstimate fixed="false">
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Real>0.1</ct:Real>
						</Equation>
					</InitialEstimate>
					<LowerBound>
						<Equation xmlns="http://www.pharmml.org/pharmml/0.6/Maths">
							<ct:Int>0</ct:Int>
						</Equation>
					</LowerBound>
				</ParameterEstimation>
			</ParametersToEstimate>
		</EstimationStep>
		<mstep:StepDependencies>
			<mstep:Step>
				<ct:OidRef oidRef="estimStep_1"/>
			</mstep:Step>
		</mstep:StepDependencies>
	</ModellingSteps>		
</PharmML>
